import{_ as Y}from"./Breadcrumbs.246d7bbb.js";import{_ as N,b as s,d as l,e as n,h as V,r as w,o as P,i as Z,F as S,j as C,f,w as D,k as j,l as tt,u as o,m as z,p as et,n as m,t as a,q as i,s as R,x as F,y as x,c as E,z as ot,A as st,B as lt,T as at,g as nt,v as it,C as rt,D as ct}from"./entry.9cb050de.js";import{_ as ut}from"./nuxt-img.ea1d2d0f.js";import{_ as pt}from"./Modal.b9d0650a.js";import{u as dt}from"./fetch.a2545672.js";import"./composables.12a1b191.js";const bt={},mt={xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 50 50"},gt=n("path",{d:"M32,11h5c0.552,0,1-0.448,1-1V3.263c0-0.524-0.403-0.96-0.925-0.997C35.484,2.153,32.376,2,30.141,2C24,2,20,5.68,20,12.368V19h-7c-0.552,0-1,0.448-1,1v7c0,0.552,0.448,1,1,1h7v19c0,0.552,0.448,1,1,1h7c0.552,0,1-0.448,1-1V28h7.222c0.51,0,0.938-0.383,0.994-0.89l0.778-7C38.06,19.518,37.596,19,37,19h-8v-5C29,12.343,30.343,11,32,11z"},null,-1),ht=[gt];function kt(t,r){return s(),l("svg",mt,ht)}const ft=N(bt,[["render",kt]]),_t={},$t={xmlns:"http://www.w3.org/2000/svg",fill:"#ffffff",viewBox:"0 0 50 50"},yt=n("path",{d:"M50.061,10.438c-1.846,0.818-3.826,1.369-5.908,1.62c2.125-1.273,3.757-3.29,4.523-5.688c-1.986,1.177-4.19,2.033-6.531,2.493c-1.874-2-4.547-3.247-7.504-3.247c-5.68,0-10.284,4.604-10.284,10.282c0,0.805,0.092,1.589,0.269,2.343C16.08,17.812,8.502,13.718,3.429,7.497c-0.885,1.522-1.391,3.289-1.391,5.172c0,3.567,1.812,6.713,4.574,8.56c-1.688-0.054-3.271-0.517-4.657-1.288c0,0.044,0,0.086,0,0.131c0,4.984,3.544,9.134,8.245,10.084c-0.86,0.236-1.769,0.36-2.707,0.36c-0.664,0-1.309-0.064-1.938-0.186c1.313,4.081,5.108,7.06,9.607,7.143c-3.517,2.757-7.951,4.399-12.77,4.399c-0.833,0-1.649-0.048-2.452-0.144c4.548,2.919,9.956,4.619,15.762,4.619c18.915,0,29.26-15.668,29.26-29.252c0-0.448-0.011-0.894-0.03-1.332C46.94,14.313,48.684,12.5,50.061,10.438z"},null,-1),xt=[yt];function vt(t,r){return s(),l("svg",$t,xt)}const wt=N(_t,[["render",vt]]),At={class:"share-network-list flex justify-end items-center gap-x-2 px-2 py-2"},Bt={__name:"Social",props:{title:String,description:String,quote:String,hashtags:String},setup(t){const r=t,u=z(),c=V(),p=[{network:"facebook",name:"Facebook",icon:ft},{network:"twitter",name:"Twitter",icon:wt}],b=w("");return P(()=>{var g;b.value=(g=r.hashtags)==null?void 0:g.replace(", ",",")}),(g,v)=>{const h=Z("ShareNetwork");return s(),l("div",At,[(s(),l(S,null,C(p,$=>f(h,{network:$.network,key:$.network,url:`${o(u).public.BASE_URL}${o(c).fullPath}`,title:t.title,description:t.description,quote:"whesh la zone",hashtags:o(b),class:"p-1 bg-trso-blue"},{default:D(()=>[(s(),j(tt($.icon),{class:"h-6 w-6"}))]),_:2},1032,["network","url","title","description","hashtags"])),64))])}}},St={key:0},Ct={key:1},H={__name:"ReadMore",props:{color:String},setup(t){const r="max-h-12 overflow-hidden text-ellipsis before:opacity-1 before:bg-gradient-to-b before:from-transparent before:to-white before:content-[''] before:absolute before:w-full before:h-full before:top-0 before:left-0",u=w(null),c=w(!0),p=w(!1),b=w("");P(()=>{const h=u.value.clientHeight>48;p.value=h,c.value=h,b.value=h?r:""});function g(){c.value=!c.value,b.value=c.value?r:"max-h-[2000px] before:opacity-0"}return(v,h)=>(s(),l("div",null,[n("div",{class:m(["text-justify pb-2 text-sm lg:text-base relative transition-all duration-700 ease-in-out before:transition-all before:duration-700 before:ease-in-out",o(b)]),ref:$=>{u.value=$}},[et(v.$slots,"default")],2),o(p)?(s(),l("button",{key:0,class:m(["btn block mx-auto mt-2 py-1 px-3 text-white text-sm lg:text-base font-semibold border-none",`bg-trso-${t.color}`]),onClick:h[0]||(h[0]=$=>g())},[o(c)?(s(),l("span",St,a(v.$t("pages.slug.more")),1)):(s(),l("span",Ct,a(v.$t("pages.slug.less")),1))],2)):i("",!0)]))}},Dt={class:"mb-4 lg:flex"},jt={class:"block pb-4 lg:pb-0 pr-4 w-full lg:w-1/6"},Mt={class:"w-full lg:w-5/6"},It={class:"mb-4"},Ot={class:"block text-xl font-title font-semibold pb-1"},Lt={key:0,class:"block text-base pb-2"},Nt={key:0},Pt={key:1},Rt={key:0},Tt={itemProp:"description"},qt={__name:"BookDetail",props:{book:Object,type:String,color:String},setup(t){const{locale:r}=R(),{$formatDate:u}=F();return(c,p)=>{const b=ut,g=H;return s(),l("div",Dt,[n("span",jt,[t.book.thumbnail?(s(),j(b,{key:0,class:"mx-auto lg:mx-0 lg:w-full h-auto",loading:"lazy",format:"webp",src:t.book.thumbnail,alt:`${c.$t("pages.slug.bookImgAlt")} ${t.book.title}`},null,8,["src","alt"])):i("",!0)]),n("div",Mt,[n("h2",It,[n("span",Ot,a(t.book.title),1),t.book.subtitle?(s(),l("span",Lt,a(t.book.subtitle),1)):i("",!0),t.book.publisher||t.book.published?(s(),l("span",{key:1,class:m(["block text-left text-sm italic block",`text-trso-${t.color}`])},[t.book.publisher?(s(),l("span",Nt,a(c.$t("pages.slug.published"))+" "+a(t.book.publisher),1)):i("",!0),t.book.published&&t.book.published!="1000-01-01"?(s(),l("span",Pt,[t.book.publisher?(s(),l("span",Rt," - ")):i("",!0),x(" "+a(o(u)(t.book.published,o(r))),1)])):i("",!0)],2)):i("",!0)]),t.book.description?(s(),j(g,{key:0,color:t.color},{default:D(()=>[n("p",Tt,a(t.book.description),1)]),_:1},8,["color"])):i("",!0)])])}}},Vt=["src","alt"],zt={key:0,class:"text-sm italic"},Ft={class:"inline-block me-1"},Et={key:0},Ht={key:1},Ut={key:1},Kt={key:2,class:"text-sm"},Jt={key:0},Qt={key:1},Xt={key:0},U={__name:"BookIntro",props:{book:Object,popup:Boolean,color:String},setup(t){const r=t,u=E(()=>`text-trso-${r.color}`);return(c,p)=>(s(),l("div",null,[n("div",{class:m(["items-center",t.popup?"":"flex flex-wrap"])},[t.book.thumbnail?(s(),l("img",{key:0,src:t.book.thumbnail,alt:`${c.$t("pages.slug.bookImgAlt")} ${t.book.title}`,class:m(["block",t.popup?"mx-auto mb-4":"w-auto h-24"])},null,10,Vt)):i("",!0),n("div",{class:m(t.popup?"w-full":"pl-2 sm:pl-4 md:pl-8 pr-0 sm:pr-4 md:pr-8 w-3/4 md:w-auto")},[n("h3",{class:m(["text-sm md:text-base font-title font-semibold mb-2",o(u)])},[n("span",null,a(t.book.title),1)],2),n("div",{class:m(t.popup?"mb-2 flex flex-warp gap-x-2 items-center font-medium":"")},[t.book.authors?(s(),l("p",zt,[n("span",Ft,a(c.$t("pages.slug.written")),1),(s(!0),l(S,null,C(t.book.authors,(b,g)=>(s(),l("span",{key:b.id},[g===Object.keys(t.book.authors).length-1&&t.book.authors.length>1?(s(),l("span",Et,a(c.$t("pages.slug.and")),1)):i("",!0),x(a(b),1),g<Object.keys(t.book.authors).length-2?(s(),l("span",Ht,", ")):i("",!0)]))),128))])):i("",!0),t.popup?(s(),l("span",Ut,"-")):i("",!0),t.book.publisher||t.book.published?(s(),l("p",Kt,[t.book.publisher?(s(),l("span",Jt,a(c.$t("pages.slug.published"))+" "+a(t.book.publisher),1)):i("",!0),t.book.published&&t.book.published!="1000-01-01"?(s(),l("span",Qt,[t.book.publisher?(s(),l("span",Xt," - ")):i("",!0),x(a(c.$formatDate(t.book.published,c.locale)),1)])):i("",!0)])):i("",!0)],2)],2)],2)]))}},Gt={__name:"BooksAccordion",props:{book:Object,color:String},setup(t){return R(),F(),w("disabled"),(r,u)=>{var p;const c=U;return s(),l("div",{class:m(["mb-2 p-4 border",`border-trso-${t.color}`])},[f(c,{book:t.book,popup:!1,color:t.color},null,8,["book","color"]),(p=t.book.description)!=null&&p.length?(s(),l("button",{key:0,class:m(["btn block mx-auto mt-2 py-1 px-3 text-white text-sm lg:text-base font-semibold border-none",`bg-trso-${t.color}`]),onClick:u[0]||(u[0]=b=>r.$emit("openBookDesc"))},[n("span",null,a(r.$t("pages.slug.more")),1)],2)):i("",!0)],2)}}},Wt=""+new URL("image-not-available.7d3a20b6.jpg",import.meta.url).href,Yt={class:"flex flex-wrap"},Zt={class:"sm:w-1/6 py-2 mx-auto lg:pr-4"},te=["src","alt"],ee={key:1,src:Wt,alt:"image not available",class:"inline-block"},oe={class:"sm:w-5/6 py-2"},se={class:"block font-bold mb-2 text-center lg:text-justify"},le={itemProp:"description"},ae={class:"py-8 text-sm lg:text-base"},ne={class:"italic pb-2"},ie={__name:"Detail",props:{itemAttr:Object,itemLangAttr:Object,bookAttr:Object},setup(t){const u=t.itemAttr.type==="series"?"yellow":"blue";return(c,p)=>{const b=H;return s(),l("div",Yt,[n("div",Zt,[t.itemAttr.poster!="N/A"?(s(),l("img",{key:0,src:t.itemAttr.poster,alt:`Poster ${t.itemLangAttr.title}`,class:"inline-block"},null,8,te)):(s(),l("img",ee))]),n("div",oe,[n("span",se,a(c.$t("pages.slug.hidDescription1"))+" "+a(t.itemAttr.type)+" "+a(t.itemLangAttr.title)+" "+a(c.$t("pages.slug.hidDescription2"))+" "+a(t.bookAttr.title)+"? ",1),f(b,{color:o(u)},{default:D(()=>[n("p",le,a(t.itemLangAttr.plot),1)]),_:1},8,["color"]),n("ul",ae,[(s(!0),l(S,null,C(t.itemAttr.ratings,g=>(s(),l("li",{key:g.key},[n("span",ne,a(g.Source)+":",1),x("  "),n("span",{class:m(["font-semibold",`text-trso-${o(u)}`])},a(g.Value),3)]))),128))])])])}}},re={class:"mb-4 font-bold text-base lg:text-lg text-center lg:text-justify"},ce=n("div",{id:"disqus_thread"},null,-1),ue=n("noscript",null,'Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>',-1),pe={__name:"Comments",props:{bookTitle:String},setup(t){return P(()=>{(function(){var r=document,u=r.createElement("script");u.src="https://moviesfrombooks.disqus.com/embed.js",u.setAttribute("data-timestamp",+new Date),(r.head||r.body).appendChild(u)})()}),(r,u)=>(s(),l("div",null,[n("h2",re,[n("span",null,a(r.$t("pages.slug.comments"))+" "+a(t.bookTitle)+", "+a(r.$t("pages.slug.comments2")),1)]),ce,ue]))}};const K=t=>(rt("data-v-ba0a12c8"),t=t(),ct(),t),de={itemscope:"",itemtype:"http://schema.org/Movie"},be={itemprop:"name"},me={class:"text-lg lg:text-xl text-center font-serif px-4 pt-4"},ge={class:"block pb-1 lg:pb-2 text-center"},he=K(()=>n("i",{class:"fas fa-film"},null,-1)),ke={key:0},fe={key:1},_e={class:"text-xl sm:text-2xl md:text-3xl lg:text-4xl"},$e={key:0,class:"block text-center italic text-base lg:text-lg"},ye={key:0,itemprop:"director"},xe={key:1},ve={key:2},we={class:"block pt-2 pb-1 lg:pb-2 font-bold"},Ae=K(()=>n("i",{class:"fas fa-book"},null,-1)),Be={class:"text-xl sm:text-2xl md:text-3xl lg:text-4xl"},Se={key:1,class:"block pb-2 md:pb-4 italic text-base lg:text-lg",itemprop:"author"},Ce={key:0},De={key:1},je={class:"py-8 lg:py-12"},Me={key:0},Ie={class:"flex flex-wrap"},Oe=["id"],Le={class:"px-2 sm:px-4"},Ne={key:0,class:"text-justify text-sm lg:text-base"},Pe={__name:"[id]-[slug]",async setup(t){let r,u;const{locale:c,t:p}=R(),b=z(),v=V().params.id,h=w(!1),$="fields[0]=imdbId&fields[1]=poster&fields[2]=type&fields[3]=ratings",J=`filters[item_lang][locale][$eq]=${c.value}`,Q=`${$}&${J}&populate[item_lang][fields][0]=title&populate[item_lang][fields][1]=plot&populate[item_lang][fields][2]=slug&populate[books][fields][0]=title&populate[books][fields][1]=description&populate[books][fields][2]=thumbnail&populate[books][fields][3]=authors&populate[books][fields][4]=firstBook&populate[books][fields][5]=published&populate[books][fields][6]=publisher&populate[books][fields][7]=subtitle`,{data:T}=([r,u]=ot(()=>dt(`${b.public.API_BASE_URL}items/${v}?${Q}`,"$XQ2zETsRE3")),r=await r,u(),r),e=E(()=>{if(!T.value.data)return null;const d=T.value.data.attributes,A=d.item_lang.data.attributes,_=d.books.data,B=_.find(O=>O.attributes.firstBook===!0),M=`${A.plot.split(".")[0]}.`,I=d.type==="series"?"yellow":"blue";return{attr:d,langAttr:A,books:_,firstBook:B,plotForMeta:M,color:I}}),y=st({thumbnail:"",title:"",authors:"",publisher:"",description:""});function X(d){h.value=!0;const _=e.value.books.find(B=>B.id===d).attributes;y.thumbnail=_.thumbnail,y.title=_.title,y.authors=_.authors,y.publisher=_.publisher,y.description=_.description}return lt({title:`${b.public.websiteName} - ${p("pages.slug.what")} ${p("pages.slug.the")} ${e.value.attr.type} ${e.value.langAttr.title} ${p("pages.slug.on")}`,meta:[{name:"description",content:`${p("pages.slug.hidDescription1")} ${e.value.attr.type} ${p("pages.slug.hidDescription2")} ${e.value.firstBook.attributes.title}`},{name:"keywords",content:`${p("pages.slug.hidKeywords")}`},{property:"og:site_name",content:b.public.websiteName},{property:"og:description",content:`${p("pages.slug.the")} ${e.value.attr.type} ${e.value.langAttr.title} ${p("pages.slug.hidOgDescription")} ${e.value.firstBook.attributes.title}. ${e.plotForMeta}`},{property:"og:image",content:e.value.attr.poster},{property:"twitter:title",content:b.public.websiteName},{property:"twitter:description",content:`${p("pages.slug.the")} ${e.value.attr.type} ${e.value.langAttr.title} ${p("pages.slug.hidOgDescription")} ${e.value.firstBook.attributes.title}. ${e.plotForMeta}`},{property:"twitter:image:src",content:e.value.attr.poster}]}),(d,A)=>{const _=Y,B=Bt,q=qt,M=Gt,I=U,O=pt,G=ie,W=pe;return s(),l("div",null,[f(_,{levels:[{name:o(e).attr.type==="series"?"tv-series":"movies",route:{name:"type-pages-page",params:{type:o(e).attr.type==="series"?"tv-series":"movies",page:1}}},{name:o(e).langAttr.title}]},null,8,["levels"]),n("div",de,[n("h1",{class:m(["block py-2 px-2 text-white text-center font-semibold",`bg-trso-${o(e).color}`])},[x(a(d.$t("pages.slug.what"))+" ",1),n("span",be,a(o(e).attr.type==="series"?d.$t("pages.slug.theSeries"):d.$t("pages.slug.theMovie"))+" "+a(o(e).langAttr.title),1),x(" "+a(d.$t("pages.slug.on")),1)],2),n("section",{class:m(["border",`border-trso-${o(e).color}`])},[n("p",me,[n("span",ge,[he,o(e).attr.type==="series"?(s(),l("span",ke,a(d.$t("pages.slug.theSeries")),1)):(s(),l("span",fe,a(d.$t("pages.slug.theMovie")),1))]),n("span",{class:m(["block pb-0 lg:pb-1",`text-trso-${o(e).color}`])},[n("span",_e,a(o(e).langAttr.title),1)],2),o(e).attr.director||o(e).attr.year?(s(),l("span",$e,[o(e).attr.director!="N/A"?(s(),l("span",ye,a(d.$t("movie.director"))+" "+a(o(e).attr.director),1)):i("",!0),o(e).attr.director&&o(e).attr.year?(s(),l("span",xe,a(d.$t("pages.slug.and")),1)):i("",!0),o(e).attr.year!=""?(s(),l("span",ve,a(d.$t("pages.slug.released"))+" "+a(o(e).attr.year),1)):i("",!0)])):i("",!0),n("span",we,[Ae,x(" "+a(d.$t("pages.slug.from")),1)]),n("span",{class:m(["block pb-1 lg:pb-2",`text-trso-${o(e).color}`]),itemprop:"name"},[n("span",Be,a(o(e).firstBook.attributes.title),1)],2),o(e).firstBook.attributes.authors?(s(),l("span",Se,[n("span",null,a(d.$t("pages.slug.by"))+" ",1),(s(!0),l(S,null,C(o(e).firstBook.attributes.authors,(k,L)=>(s(),l("span",{key:k.id},[L===Object.keys(o(e).firstBook.attributes.authors).length-1&&o(e).firstBook.attributes.authors.length>1?(s(),l("span",Ce,a(d.$t("pages.slug.and")),1)):i("",!0),x(" "+a(k)+" ",1),L<Object.keys(o(e).firstBook.attributes.authors).length-2?(s(),l("span",De,", ")):i("",!0)]))),128))])):i("",!0)]),f(B,{title:o(e).langAttr.title,description:o(e).langAttr.plot,quote:"",hashtags:d.$t("pages.slug.hidKeywords")},null,8,["title","description","hashtags"])],2),n("section",je,[f(q,{book:o(e).firstBook.attributes,type:o(e).attr.type,color:o(e).color},null,8,["book","type","color"])]),o(e).books!=!1&&o(e).books.length?(s(),l("section",Me,[n("h2",{class:m(["text-white font-bold py-2 px-4 text-base sm:text-lg md:text-xl text-center font-serif px-4 mb-2",`bg-trso-${o(e).color}`])},a(d.$t("pages.slug.relatedBooks")),3),n("div",Ie,[(s(!0),l(S,null,C(o(e).books,k=>(s(),l("div",{key:k.id,class:"my-2 w-full",id:`bookThumb${k.id}`},[k?(s(),j(M,{key:0,book:k.attributes,color:o(e).color,onOpenBookDesc:L=>X(k.id)},null,8,["book","color","onOpenBookDesc"])):i("",!0)],8,Oe))),128))]),f(at,{name:"fade"},{default:D(()=>[nt(f(O,{onCloseModal:A[0]||(A[0]=k=>h.value=!1)},{default:D(()=>{var k;return[n("div",Le,[f(I,{book:o(y),popup:!0,color:o(e).color},null,8,["book","color"]),(k=o(y).description)!=null&&k.length?(s(),l("p",Ne,a(o(y).description),1)):i("",!0)])]}),_:1},512),[[it,o(h)]])]),_:1})])):i("",!0),f(G,{itemAttr:o(e).attr,itemLangAttr:o(e).langAttr,bookAttr:o(e).firstBook.attributes},null,8,["itemAttr","itemLangAttr","bookAttr"]),f(W,{bookTitle:o(e).firstBook.attributes.title},null,8,["bookTitle"])])])}}},Ue=N(Pe,[["__scopeId","data-v-ba0a12c8"]]);export{Ue as default};
